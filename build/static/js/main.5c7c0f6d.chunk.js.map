{"version":3,"sources":["store/index.jsx","firebase.js","cometChat.js","shared/Freshers.js","components/Header.jsx","views/Product.jsx","components/Food.jsx","components/Foods.jsx","views/Home.jsx","components/Register.jsx","views/SignUp.jsx","components/Login.jsx","views/SignIn.jsx","AuthGuard.jsx","views/EditProduct.jsx","views/AddProduct.jsx","components/CartItem.jsx","views/Cart.jsx","views/Chat.jsx","views/ChatList.jsx","App.jsx","index.jsx"],"names":["createGlobalState","isLoggedIn","alert","show","msg","color","cart","contract","connectedAccount","ethToUsd","setGlobalState","useGlobalState","setAlert","setTimeout","latestPrice","a","fetch","then","data","json","res","USD","require","config","console","log","process","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getAuth","db","getFirestore","logInWithEmailAndPassword","email","password","signInWithEmailAndPassword","user","JSON","stringify","registerWithEmailAndPassword","fullname","phone","account","address","createUserWithEmailAndPassword","userDocRef","doc","setDoc","uid","logout","signOut","addToOrders","order","Math","random","toString","substring","toUpperCase","timestamp","serverTimestamp","addDoc","collection","currentUser","addProduct","product","name","price","description","imgURL","stock","getProducts","products","query","collectionGroup","orderBy","getDocs","snapshot","docs","map","id","Number","getProduct","find","updateProduct","productRef","updateDoc","deleteProduct","deleteDoc","CONSTANTS","loginWithCometChat","UID","authKey","CometChat","login","signInWithCometChat","User","setName","createUser","logOutWithCometChat","getMessages","MessagesRequestBuilder","setUID","setLimit","build","messagesRequest","fetchPrevious","messages","sendMessage","receiverID","messageText","receiverType","RECEIVER_TYPE","USER","TextMessage","textMessage","message","getConversations","conversationsRequest","ConversationsRequestBuilder","fetchNext","conversationList","ethereum","window","getContract","web3","eth","net","getId","networkId","networkData","Store","networks","Contract","abi","payWithEthers","seller","buyer","amount","utils","toWei","purpose","methods","payNow","send","from","value","connectWallet","request","method","accounts","loadWeb3","Web3","enable","currentProvider","getAccounts","Header","useState","openNavbar","setOpenNavbar","navigate","useNavigate","navbar","to","onClick","ripple","open","leftSide","rightSide","active","className","length","Product","num","useParams","setProduct","useEffect","qty","src","alt","toLocaleString","style","currency","item","added","cartItems","newItem","_item","size","toFixed","buttonType","Food","addToCart","disabled","Foods","i","Home","setProducts","filter","Register","setFullname","setEmail","setPassword","setPhone","setAddress","setAccount","handleRegister","e","preventDefault","resetForm","onSubmit","type","placeholder","onChange","target","required","SignUp","Login","handleLogin","SignIn","AuthGuard","children","redirectPath","replace","EditProduct","setPrice","setImgURL","setDescription","min","step","AddProduct","CartItem","setQty","toCurrency","rounded","raised","date","block","iconOnly","index","indexOf","splice","Cart","total","setTotal","forEach","getTotal","Chat","setMessage","setMessages","scrollToEnd","elmnt","document","getElementById","scrollTop","scrollHeight","listenerID","msgs","addMessageListener","MessageListener","onTextMessageReceived","prevState","height","receiverId","toLowerCase","text","Conversation","conversation","owner","possessor","key","sender","receiver","seconds","floor","Date","interval","timeAgo","sentAt","getTime","ChatList","customers","setCustomers","loaded","setLoaded","customer","lastMessage","App","setUser","isLoaded","setIsLoaded","onAuthStateChanged","path","element","ReactDOM","render"],"mappings":"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","file":"static/js/main.5c7c0f6d.chunk.js","sourcesContent":["import { createGlobalState } from 'react-hooks-global-state'\n\nconst { setGlobalState, useGlobalState } = createGlobalState({\n  isLoggedIn: false,\n  alert: { show: false, msg: '', color: '' },\n  cart: [],\n  contract: null,\n  connectedAccount: '',\n  ethToUsd: 0,\n})\n\nconst setAlert = (msg, color = 'amber') => {\n  setGlobalState('alert', { show: true, msg, color })\n  setTimeout(() => {\n    setGlobalState('alert', { show: false, msg: '', color })\n  }, 5000)\n}\n\nconst latestPrice = async () => {\n  await fetch('https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=USD')\n    .then((data) => data.json())\n    .then((res) => setGlobalState('ethToUsd', res.USD))\n}\n\nexport { useGlobalState, setGlobalState, setAlert, latestPrice }\n","require('dotenv').config();\nimport { initializeApp } from 'firebase/app'\nimport { setAlert } from './store'\nimport { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, onAuthStateChanged } from 'firebase/auth'\nimport { getFirestore, query, getDocs, updateDoc, collection, collectionGroup, orderBy, deleteDoc, addDoc, doc, setDoc, serverTimestamp } from 'firebase/firestore'\n\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconsole.log(process.env.REACT_APP_FIREBASE_APP_ID, 'api key')\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\n}\n\nconst app = initializeApp(firebaseConfig)\nconst auth = getAuth(app)\nconst db = getFirestore(app)\n\nconst logInWithEmailAndPassword = async (email, password) => {\n  try {\n    return await signInWithEmailAndPassword(auth, email, password).then((res) => res.user)\n  } catch (error) {\n    setAlert(JSON.stringify(error), 'red')\n  }\n}\n\nconst registerWithEmailAndPassword = async (email, password, fullname, phone, account, address) => {\n  try {\n    console.log(\"i got to the firebase file\")\n    console.log(email, \"email\", password, \"password\", auth, \"auth\")\n    const res = await createUserWithEmailAndPassword(auth, email, password)\n    console.log(res, \"res\")\n    const user = res.user\n    const userDocRef = doc(db, 'users', user.email)\n\n    await setDoc(userDocRef, {\n      uid: user.uid,\n      fullname,\n      email,\n      phone,\n      account,\n      address,\n    })\n\n    return user\n  } catch (error) {\n    setAlert(JSON.stringify(error), 'red')\n  }\n}\n\nconst logout = async () => {\n  try {\n    await signOut(auth)\n    return true\n  } catch (error) {\n    setAlert(JSON.stringify(error), 'red')\n  }\n}\n\nconst addToOrders = async (cart) => {\n  try {\n    const order = {\n      order: Math.random().toString(36).substring(2, 9).toUpperCase(),\n      timestamp: serverTimestamp(),\n      cart,\n    }\n\n    await addDoc(collection(db, `users/${auth.currentUser.email}`, 'orders'), order)\n    return order\n  } catch (error) {\n    setAlert(JSON.stringify(error), 'red')\n  }\n}\n\nconst addProduct = async (product) => {\n  try {\n    await addDoc(collection(db, `users/${auth.currentUser.email}`, 'products'), {\n      name: product.name,\n      uid: auth.currentUser.uid,\n      email: auth.currentUser.email,\n      price: product.price,\n      description: product.description,\n      account: product.account,\n      imgURL: product.imgURL,\n      stock: ((Math.random() * 10) | 0) + 1,\n      timestamp: serverTimestamp(),\n    })\n  } catch (error) {\n    setAlert(JSON.stringify(error), 'red')\n  }\n}\n\nconst getProducts = async () => {\n  try {\n    const products = query(collectionGroup(db, 'products'), orderBy('timestamp', 'desc'))\n    const snapshot = await getDocs(products)\n\n    return snapshot.docs.map((doc) => ({\n      id: doc.id,\n      ...doc.data(),\n      price: Number(doc.data().price),\n    }))\n  } catch (error) {\n    setAlert(JSON.stringify(error), 'red')\n  }\n}\n\nconst getProduct = async (id) => {\n  try {\n    const products = query(collectionGroup(db, 'products'), orderBy('timestamp', 'desc'))\n    const snapshot = await getDocs(products)\n\n    const product = snapshot.docs.find((doc) => doc.id == id)\n    return {\n      id: product.id,\n      ...product.data(),\n      price: Number(product.data().price),\n    }\n  } catch (error) {\n    setAlert(JSON.stringify(error), 'red')\n  }\n}\n\nconst updateProduct = async (product) => {\n  const productRef = doc(db, `users/${product.email}/products`, product.id)\n  try {\n    await updateDoc(productRef, product)\n  } catch (error) {\n    setAlert(JSON.stringify(error), 'red')\n  }\n}\n\nconst deleteProduct = async (product) => {\n  const productRef = doc(db, `users/${product.email}/products`, product.id)\n  try {\n    await deleteDoc(productRef)\n  } catch (error) {\n    setAlert(JSON.stringify(error), 'red')\n  }\n}\n\nexport { auth, db, logInWithEmailAndPassword, registerWithEmailAndPassword, logout, onAuthStateChanged, addProduct, addToOrders, getProducts, getProduct, updateProduct, deleteProduct }\n","import { CometChat } from '@cometchat-pro/chat'\n\nconst CONSTANTS = {\n  APP_ID: process.env.REACT_APP_COMET_CHAT_APP_ID,\n  REGION: process.env.REACT_APP_COMET_CHAT_REGION,\n  Auth_Key: process.env.REACT_APP_COMET_CHAT_AUTH_KEY,\n}\n\nconst initCometChat = async () => {\n  try {\n    const appID = CONSTANTS.APP_ID\n    const region = CONSTANTS.REGION\n\n    const appSetting = new CometChat.AppSettingsBuilder().subscribePresenceForAllUsers().setRegion(region).build()\n\n    await CometChat.init(appID, appSetting).then(() => console.log('Initialization completed successfully'))\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nconst loginWithCometChat = async (UID) => {\n  try {\n    const authKey = CONSTANTS.Auth_Key\n    await CometChat.login(UID, authKey).then((user) => console.log('Login Successful:', { user }))\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nconst signInWithCometChat = async (UID, name) => {\n  try {\n    let authKey = CONSTANTS.Auth_Key\n    const user = new CometChat.User(UID)\n    user.setName(name)\n\n    return await CometChat.createUser(user, authKey).then((user) => user)\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nconst logOutWithCometChat = async () => {\n  try {\n    await CometChat.logout().then(() => console.log('Logged Out Successfully'))\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nconst getMessages = async (UID) => {\n  try {\n    const limit = 30\n    const messagesRequest = await new CometChat.MessagesRequestBuilder().setUID(UID).setLimit(limit).build()\n\n    return await messagesRequest.fetchPrevious().then((messages) => messages)\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nconst sendMessage = async (receiverID, messageText) => {\n  try {\n    const receiverType = CometChat.RECEIVER_TYPE.USER\n    const textMessage = await new CometChat.TextMessage(receiverID, messageText, receiverType)\n\n    return await CometChat.sendMessage(textMessage).then((message) => message)\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nconst getConversations = async () => {\n  try {\n    const limit = 30\n    const conversationsRequest = new CometChat.ConversationsRequestBuilder().setLimit(limit).build()\n\n    return await conversationsRequest.fetchNext().then((conversationList) => conversationList)\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport { initCometChat, loginWithCometChat, signInWithCometChat, logOutWithCometChat, getMessages, sendMessage, getConversations }\n","import Web3 from 'web3'\nimport { setAlert, setGlobalState } from '../store'\nimport Store from './abis/Store.json'\n\nconst { ethereum } = window\n\nconst getContract = async () => {\n  const web3 = window.web3\n  const networkId = await web3.eth.net.getId()\n  const networkData = Store.networks[networkId]\n\n  if (networkData) {\n    const contract = new web3.eth.Contract(Store.abi, networkData.address)\n    return contract\n  } else {\n    window.alert('Store contract not deployed to detected network.')\n  }\n}\n\nconst payWithEthers = async (product) => {\n  try {\n    const web3 = window.web3\n    const seller = product.account\n    const buyer = product.buyer\n    const amount = web3.utils.toWei(product.price.toString(), 'ether')\n    const purpose = `Sales of ${product.name}`\n\n    const contract = await getContract()\n    await contract.methods.payNow(seller, purpose).send({ from: buyer, value: amount })\n    return true\n  } catch (error) {\n    setAlert(error.message, 'red')\n  }\n}\n\nconst connectWallet = async () => {\n  try {\n    if (!ethereum) return alert('Please install Metamask')\n    const accounts = await ethereum.request({ method: 'eth_requestAccounts' })\n    setGlobalState('connectedAccount', accounts[0])\n  } catch (error) {\n    setAlert(JSON.stringify(error), 'red')\n  }\n}\n\nconst loadWeb3 = async () => {\n  try {\n    if (!ethereum) return alert('Please install Metamask')\n\n    window.web3 = new Web3(ethereum)\n    await ethereum.enable()\n\n    window.web3 = new Web3(window.web3.currentProvider)\n\n    const web3 = window.web3\n    const accounts = await web3.eth.getAccounts()\n    setGlobalState('connectedAccount', accounts[0])\n  } catch (error) {\n    alert('Please connect your metamask wallet!')\n  }\n}\n\nexport { loadWeb3, connectWallet, payWithEthers }\n","import { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { setAlert, useGlobalState } from '../store'\nimport { logout } from '../firebase'\nimport { logOutWithCometChat } from '../cometChat'\nimport { connectWallet } from '../shared/Freshers'\nimport Navbar from '@material-tailwind/react/Navbar'\nimport NavbarContainer from '@material-tailwind/react/NavbarContainer'\nimport NavbarWrapper from '@material-tailwind/react/NavbarWrapper'\nimport NavbarBrand from '@material-tailwind/react/NavbarBrand'\nimport NavbarToggler from '@material-tailwind/react/NavbarToggler'\nimport NavbarCollapse from '@material-tailwind/react/NavbarCollapse'\nimport Nav from '@material-tailwind/react/Nav'\nimport NavItem from '@material-tailwind/react/NavItem'\n\nconst Header = () => {\n  const [openNavbar, setOpenNavbar] = useState(false)\n  const [cart] = useGlobalState('cart')\n  const [isLoggedIn] = useGlobalState('isLoggedIn')\n  const [connectedAccount] = useGlobalState('connectedAccount')\n  const navigate = useNavigate()\n\n  const handleSignOut = () => {\n    logout().then((res) => {\n      if (res) {\n        logOutWithCometChat().then(() => {\n          setAlert('Logged out successfully')\n          navigate('/signin')\n        })\n      }\n    })\n  }\n\n  return (\n    <Navbar color='green' navbar>\n      <NavbarContainer>\n        <NavbarWrapper>\n          <Link to='/'>\n            <NavbarBrand>Freshers</NavbarBrand>\n          </Link>\n          <NavbarToggler color='white' onClick={() => setOpenNavbar(!openNavbar)} ripple='white' />\n        </NavbarWrapper>\n\n        <NavbarCollapse open={openNavbar}>\n          {isLoggedIn ? (\n            <Nav leftSide>\n              <NavItem ripple='light'>\n                <Link to='/customers'>customers</Link>\n              </NavItem>\n              <NavItem ripple='light'>\n                <Link to='/product/add'>Add Product</Link>\n              </NavItem>\n            </Nav>\n          ) : (\n            <></>\n          )}\n          <Nav rightSide>\n            {isLoggedIn ? (\n              <>\n                {connectedAccount ? null : (\n                  <NavItem onClick={connectWallet} active='light' ripple='light'>\n                    <span className='cursor-pointer'>Connect Wallet</span>\n                  </NavItem>\n                )}\n                <NavItem onClick={handleSignOut} ripple='light'>\n                  <span className='cursor-pointer'>Logout</span>\n                </NavItem>\n              </>\n            ) : (\n              <NavItem ripple='light'>\n                <Link to='/signin' className='cursor-pointer'>\n                  Login\n                </Link>\n              </NavItem>\n            )}\n\n            <NavItem ripple='light'>\n              <Link to='/cart'>{cart.length} Cart</Link>\n            </NavItem>\n          </Nav>\n        </NavbarCollapse>\n      </NavbarContainer>\n    </Navbar>\n  )\n}\n\nexport default Header\n","import Header from '../components/Header'\nimport { useEffect, useState } from 'react'\nimport { useParams, useNavigate } from 'react-router-dom'\nimport { Button, CardImage } from '@material-tailwind/react'\nimport { getProduct, deleteProduct, auth } from '../firebase'\nimport { setGlobalState, useGlobalState, setAlert } from '../store'\nimport { payWithEthers } from '../shared/Freshers'\n\nconst Product = () => {\n  const { id } = useParams()\n  const navigate = useNavigate()\n  const [product, setProduct] = useState(null)\n  const [cart] = useGlobalState('cart')\n  const [isLoggedIn] = useGlobalState('isLoggedIn')\n  const [buyer] = useGlobalState('connectedAccount')\n  const [ethToUsd] = useGlobalState('ethToUsd')\n\n  const addToCart = () => {\n    const item = product\n    item.added = true\n    let cartItems = [...cart]\n    const newItem = { ...item, qty: (item.qty += 1), stock: (item.stock -= 1) }\n    if (cart.find((_item) => _item.id == item.id)) {\n      cartItems[item] = newItem\n      setGlobalState('cart', [...cartItems])\n    } else {\n      setGlobalState('cart', [...cartItems, newItem])\n    }\n    setAlert('Product added to cart')\n  }\n\n  const handlePayWithEthers = () => {\n    const item = { ...product, buyer, price: (product.price / ethToUsd).toFixed(4) }\n    payWithEthers(item).then((res) => {\n      if (res) setAlert('Product purchased!')\n    })\n  }\n\n  const handleDeleteProduct = () => {\n    deleteProduct(product).then(() => {\n      setAlert('Product deleted!')\n      navigate('/')\n    })\n  }\n\n  const toCurrency = (num) =>\n    num.toLocaleString('en-US', {\n      style: 'currency',\n      currency: 'USD',\n    })\n\n  useEffect(() => {\n    getProduct(id).then((data) => setProduct({ ...data, qty: 1 }))\n  }, [id])\n\n  return (\n    <div className='product'>\n      <Header />\n      {!!product ? (\n        <div className='flex flex-wrap justify-start items-center p-10'>\n          <div className='mt-4 w-64'>\n            <CardImage src={product.imgURL} alt={product.name} />\n          </div>\n\n          <div className='mt-4 lg:mt-0 lg:row-span-6 mx-4'>\n            <div>\n              <h1 className='text-2xl font-extrabold tracking-tight text-gray-900 sm:text-3xl'>{product.name}</h1>\n              <h2 className='sr-only'>Product information</h2>\n              <div className='flex flex-row justify-start items-center'>\n                <span className='text-xl font-bold text-green-500'>{toCurrency(product.price)}</span>\n                <span className='text-xs mx-4'>{product.stock} left in stock</span>\n              </div>\n\n              <div className='mt-2 space-y-6'>\n                <p className='text-base text-gray-900'>{product.description}</p>\n              </div>\n            </div>\n\n            <div className='mt-4 flex flex-row justify-start items-center space-x-2'>\n              <Button onClick={addToCart} color='green' size='md' ripple='light'>\n                Add To Cart\n              </Button>\n\n              {isLoggedIn ? (\n                <>\n                  {auth.currentUser.uid != product.uid && product.account != buyer ? (\n                    <Button onClick={handlePayWithEthers} color='amber' size='md' ripple='light'>\n                      Buy with ETH\n                    </Button>\n                  ) : null}\n\n                  {auth.currentUser.uid == product.uid ? null : (\n                    <Button onClick={() => navigate('/chat/' + product.uid)} buttonType='link' color='green' size='md' ripple='light'>\n                      Chat WIth Seller\n                    </Button>\n                  )}\n                </>\n              ) : null}\n              {isLoggedIn && auth.currentUser.uid == product.uid ? (\n                <>\n                  <Button onClick={() => navigate('/product/edit/' + id)} buttonType='link' color='green' size='md' ripple='light'>\n                    Edit Product\n                  </Button>\n                  <Button onClick={handleDeleteProduct} buttonType='link' color='red' size='md' ripple='light'>\n                    Delete\n                  </Button>\n                </>\n              ) : null}\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  )\n}\n\nexport default Product\n","import React from 'react'\nimport Card from '@material-tailwind/react/Card'\nimport CardImage from '@material-tailwind/react/CardImage'\nimport CardBody from '@material-tailwind/react/CardBody'\nimport CardFooter from '@material-tailwind/react/CardFooter'\nimport H6 from '@material-tailwind/react/Heading6'\nimport Paragraph from '@material-tailwind/react/Paragraph'\nimport Button from '@material-tailwind/react/Button'\nimport { setAlert, setGlobalState, useGlobalState } from '../store'\nimport { Link } from 'react-router-dom'\n\nconst Food = ({ item }) => {\n  const [cart] = useGlobalState('cart')\n\n  const addToCart = (item) => {\n    item.added = true\n    let cartItems = [...cart]\n    const newItem = { ...item, qty: (item.qty += 1), stock: (item.stock -= 1) }\n    if (cart.find((_item) => _item.id == item.id)) {\n      cartItems[item] = newItem\n      setGlobalState('cart', [...cartItems])\n    } else {\n      setGlobalState('cart', [...cartItems, newItem])\n    }\n    setAlert(`${item.name} added to cart!`)\n  }\n\n  const toCurrency = (num) =>\n    num.toLocaleString('en-US', {\n      style: 'currency',\n      currency: 'USD',\n    })\n\n  return (\n    <div className='mx-4 my-6 w-64'>\n      <Card>\n        <Link to={`/product/` + item.id}>\n          <CardImage src={item.imgURL} alt={item.name} />\n        </Link>\n\n        <CardBody>\n          <Link to={`/product/` + item.id}>\n            <H6 color='gray'>{item.name}</H6>\n          </Link>\n\n          <Paragraph color='gray'>Don't be scared of the truth because we need to...</Paragraph>\n\n          <div color='black' className='flex flex-row justify-between items-center'>\n            <span className='font-semibold text-green-500'>{toCurrency(item.price)}</span>\n            <span className='text-xs text-black'>{item.stock} in stock</span>\n          </div>\n        </CardBody>\n\n        <CardFooter>\n          {item.stock > 0 ? (\n            <Button onClick={() => addToCart(item)} color='green' size='md' ripple='light' disabled={item.stock == 0}>\n              Add To Cart\n            </Button>\n          ) : (\n            <Button color='green' size='md' buttonType='outline' ripple='light' disabled>\n              Out of Stock\n            </Button>\n          )}\n        </CardFooter>\n      </Card>\n    </div>\n  )\n}\n\nexport default Food\n","import Food from './Food'\n\nconst Foods = ({ products }) => {\n  return (\n    <div className='flex flex-wrap justify-center items-center space-x-3 space-y-3 mt-12 overflow-x-hidden'>\n      {products.map((item, i) => (\n        <Food item={item} key={i} />\n      ))}\n    </div>\n  )\n}\n\nexport default Foods\n","import { useEffect, useState } from 'react'\nimport Header from '../components/Header'\nimport Foods from '../components/Foods'\nimport { getProducts } from '../firebase'\n\nconst Home = () => {\n  const [products, setProducts] = useState([])\n\n  useEffect(() => {\n    getProducts().then((products) => {\n      products.filter((item) => {\n        item.price = Number(item.price)\n        item.qty = 0\n      })\n      setProducts(products)\n    })\n  }, [])\n\n  return (\n    <div className='home'>\n      <Header />\n      <Foods products={products} />\n    </div>\n  )\n}\n\nexport default Home\n","import { useState } from 'react'\nimport Button from '@material-tailwind/react/Button'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { registerWithEmailAndPassword, logout } from '../firebase'\nimport { signInWithCometChat } from '../cometChat'\nimport { setAlert } from '../store'\n\nconst Register = () => {\n  const [fullname, setFullname] = useState('')\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [phone, setPhone] = useState('')\n  const [address, setAddress] = useState('')\n  const [account, setAccount] = useState('')\n  const navigate = useNavigate()\n\n  const handleRegister = async (e) => {\n    e.preventDefault()\n    if (email == '' || password == '' || fullname == '' || phone == '' || account == '' || address == '') return\n    registerWithEmailAndPassword(email, password, fullname, phone, account, address).then((user) => {\n      if (user) {\n        logout().then(() => {\n          signInWithCometChat(user.uid, fullname).then(() => {\n            resetForm()\n            setAlert('Registeration in successfully')\n            navigate('/signin')\n          })\n        })\n      }\n    })\n  }\n\n  const resetForm = () => {\n    setFullname('')\n    setEmail('')\n    setPassword('')\n    setPhone('')\n    setAccount('')\n    setAddress('')\n  }\n\n  return (\n    <div className='relative flex flex-col justify-center items-center'>\n      <div className='mt-10 '>\n        <form onSubmit={handleRegister} className='relative flex w-full flex-wrap items-stretch w-96 px-8'>\n          <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n            <input type='text' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Fullname' value={fullname} onChange={(e) => setFullname(e.target.value)} required />\n          </div>\n          <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n            <input type='email' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Email' value={email} onChange={(e) => setEmail(e.target.value)} required />\n          </div>\n          <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n            <input type='password' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='************' value={password} onChange={(e) => setPassword(e.target.value)} required />\n          </div>\n          <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n            <input type='number' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='081 056 8262' value={phone} onChange={(e) => setPhone(e.target.value)} required />\n          </div>\n          <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n            <input type='text' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Wallet Address' value={account} onChange={(e) => setAccount(e.target.value)} required />\n          </div>\n          <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n            <input type='text' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Address' value={address} onChange={(e) => setAddress(e.target.value)} required />\n          </div>\n          <div className='relative flex w-full flex-wrap items-stretch justify-between items-center'>\n            <Link className='text-green-500' to='/signin'>\n              Already a member? sign in\n            </Link>\n            <Button color='green' ripple='light' type='submit'>\n              Sign Up\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Register\n","import Header from '../components/Header'\nimport Register from '../components/Register'\n\nconst SignUp = () => {\n  return (\n    <div className='signup'>\n      <Header />\n      <Register />\n    </div>\n  )\n}\n\nexport default SignUp\n","import { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { logInWithEmailAndPassword } from '../firebase'\nimport { loginWithCometChat } from '../cometChat'\nimport { setAlert } from '../store'\nimport Button from '@material-tailwind/react/Button'\n\nconst Login = () => {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const navigate = useNavigate()\n\n  const handleLogin = async (e) => {\n    e.preventDefault()\n    if (email == '' || password == '') return ///\n    logInWithEmailAndPassword(email, password).then((user) => {\n      if (user) {\n        loginWithCometChat(user.uid).then(() => {\n          resetForm()\n          setAlert('Logged in successfully')\n          navigate('/')\n        })\n      }\n    })\n  }\n\n  const resetForm = () => {\n    setEmail('')\n    setPassword('')\n  }\n\n  return (\n    <div className='relative flex flex-col justify-center items-center'>\n      <div className='mt-10 '>\n        <form onSubmit={handleLogin} className='relative flex w-full flex-wrap items-stretch w-96 px-8'>\n          <h4 className='font-semibold text-xl my-4'>Login</h4>\n          <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n            <input type='email' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Email' value={email} onChange={(e) => setEmail(e.target.value)} required />\n          </div>\n          <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n            <input type='password' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='************' value={password} onChange={(e) => setPassword(e.target.value)} required />\n          </div>\n\n          <div className='relative flex w-full flex-wrap items-stretch justify-between items-center'>\n            <Link className='text-green-500' to='/signup'>\n              New user sign up\n            </Link>\n            <Button color='green' ripple='light' type='submit'>\n              Sign In\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n","import Header from '../components/Header'\nimport Login from '../components/Login'\n\nconst SignIn = () => {\n  return (\n    <div className='signIn'>\n      <Header />\n      <Login />\n    </div>\n  )\n}\n\nexport default SignIn\n","import { Navigate } from 'react-router-dom'\n\nconst AuthGuard = ({ user, children, redirectPath = '/signin' }) => {\n  if (!user) {\n    return <Navigate to={redirectPath} replace />\n  }\n\n  return children\n}\n\nexport default AuthGuard","import Header from '../components/Header'\nimport Button from '@material-tailwind/react/Button'\nimport { useEffect, useState } from 'react'\nimport { Link, useParams, useNavigate } from 'react-router-dom'\nimport { updateProduct, getProduct, auth } from '../firebase'\nimport { setAlert } from '../store'\nimport { useGlobalState } from '../store'\n\nconst EditProduct = () => {\n  const { id } = useParams()\n  const navigate = useNavigate()\n  const [product, setProduct] = useState(null)\n  const [name, setName] = useState('')\n  const [price, setPrice] = useState('')\n  const [imgURL, setImgURL] = useState('')\n  const [description, setDescription] = useState('')\n  const [account] = useGlobalState('connectedAccount')\n\n  useEffect(() => {\n    getProduct(id).then((data) => {\n      if (auth.currentUser.uid != data.uid) navigate('/')\n      setProduct(data)\n      setName(data.name)\n      setPrice(Number(data.price))\n      setImgURL(data.imgURL)\n      setDescription(data.description)\n    })\n  }, [id])\n\n  const handleProductUpdate = (e) => {\n    e.preventDefault()\n    if (!account) {\n      setAlert('Please connect your metamask account!', 'red')\n      return\n    }\n\n    if (name == '' || price == '' || imgURL == '' || description == '') return\n    updateProduct({\n      ...product,\n      name,\n      price,\n      imgURL,\n      description,\n      account,\n    }).then(() => {\n      setAlert('Product updated successfully')\n      navigate('/product/' + product.id)\n    })\n  }\n\n  return (\n    <div className='editProduct'>\n      <Header />\n      <div className='relative flex flex-col justify-center items-center'>\n        <div className='mt-10 '>\n          <form onSubmit={handleProductUpdate} className='relative flex w-full flex-wrap items-stretch w-96 px-8'>\n            <h4 className='font-semibold text-xl my-4'>Update Product</h4>\n            <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n              <input type='text' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Product Name' value={name} onChange={(e) => setName(e.target.value)} required />\n            </div>\n            <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n              <input type='number' min={1} step={0.01} className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Product Price' value={price} onChange={(e) => setPrice(e.target.value)} required />\n            </div>\n            <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n              <input type='url' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Product Image URL' value={imgURL} onChange={(e) => setImgURL(e.target.value)} required />\n            </div>\n            <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n              <input type='text' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Product Description' value={description} onChange={(e) => setDescription(e.target.value)} required />\n            </div>\n\n            <div className='relative flex w-full flex-wrap items-stretch justify-between items-center'>\n              <Link className='text-green-500' to={`/product/` + id}>\n                Back to product\n              </Link>\n              <Button color='green' ripple='light' type='submit'>\n                Update\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default EditProduct\n","import { useState } from 'react'\nimport { Link, useNavigate } from 'react-router-dom'\nimport { addProduct } from '../firebase'\nimport { setAlert } from '../store'\nimport { useGlobalState } from '../store'\nimport Button from '@material-tailwind/react/Button'\nimport Header from '../components/Header'\n\nconst AddProduct = () => {\n  const [name, setName] = useState('')\n  const [price, setPrice] = useState('')\n  const [imgURL, setImgURL] = useState('')\n  const [description, setDescription] = useState('')\n  const [account] = useGlobalState('connectedAccount')\n  const navigate = useNavigate()\n\n  const handleAddProduct = (e) => {\n    e.preventDefault()\n    if (!account) {\n      setAlert('Please connect your metamask account!', 'red')\n      return\n    }\n\n    if (name == '' || price == '' || imgURL == '' || description == '') return\n    addProduct({ name, price, imgURL, description, account }).then(() => {\n      setAlert('Product created successfully')\n      navigate('/')\n    })\n  }\n\n  return (\n    <div className='addProduct'>\n      <Header />\n      <div className='relative flex flex-col justify-center items-center'>\n        <div className='mt-10 '>\n          <form onSubmit={handleAddProduct} className='relative flex w-full flex-wrap items-stretch w-96 px-8'>\n            <h4 className='font-semibold text-xl my-4'>Add Product</h4>\n            <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n              <input type='text' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Product Name' value={name} onChange={(e) => setName(e.target.value)} required />\n            </div>\n            <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n              <input type='number' min={1} step={0.01} className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Product Price' value={price} onChange={(e) => setPrice(e.target.value)} required />\n            </div>\n            <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n              <input type='url' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Product Image URL' value={imgURL} onChange={(e) => setImgURL(e.target.value)} required />\n            </div>\n            <div className='relative flex w-full flex-wrap items-stretch mb-3'>\n              <input type='text' className='px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm border border-blueGray-300 outline-none focus:outline-none focus:ring w-full pl-10' placeholder='Product Description' value={description} onChange={(e) => setDescription(e.target.value)} required />\n            </div>\n\n            <div className='relative flex w-full flex-wrap items-stretch justify-between items-center'>\n              <Link className='text-green-500' to='/'>\n                Back to Home\n              </Link>\n              <Button color='green' ripple='light' type='submit'>\n                Save Product\n              </Button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default AddProduct\n","import { useState } from 'react'\nimport Card from '@material-tailwind/react/Card'\nimport CardStatusFooter from '@material-tailwind/react/CardStatusFooter'\nimport { Link } from 'react-router-dom'\nimport { Image, Button } from '@material-tailwind/react'\nimport { setGlobalState, useGlobalState } from '../store'\n\nconst CartItem = ({ item }) => {\n  const [qty, setQty] = useState(item.qty)\n  const [cart] = useGlobalState('cart')\n\n  const toCurrency = (num) =>\n    num.toLocaleString('en-US', {\n      style: 'currency',\n      currency: 'USD',\n    })\n\n  const increaseQty = () => {\n    let cartItems = [...cart]\n    const newItem = { ...item, qty: (item.qty += 1), stock: (item.stock -= 1) }\n    cartItems[item] = newItem\n    setGlobalState('cart', cartItems)\n    setQty(newItem.qty)\n  }\n\n  const decreaseQty = () => {\n    let cartItems = [...cart]\n    if (qty == 1) {\n      const index = cartItems.indexOf(item)\n      cartItems.splice(index, 1)\n    } else {\n      const newItem = {\n        ...item,\n        qty: (item.qty -= 1),\n        stock: (item.stock += 1),\n      }\n      cartItems[item] = newItem\n      setQty(newItem.qty)\n    }\n    setGlobalState('cart', cartItems)\n  }\n\n  return (\n    <Card className='flex flex-row justify-between items-end my-4'>\n      <Link to={'/product/' + item.id} className='h-12 w-12 object-contain mr-4'>\n        <Image src={item.imgURL} alt={item.name} rounded={false} raised={true} />\n      </Link>\n\n      <CardStatusFooter color='green' amount={toCurrency(item.price)} date={item.name}>\n        <div className='flex flex-row justify-center items-center mx-4'>\n          <Button color='green' buttonType='filled' size='sm' rounded={false} block={false} iconOnly={false} ripple='dark' onClick={decreaseQty}>\n            -\n          </Button>\n          <span className='mx-4'>{qty}</span>\n          <Button color='green' buttonType='filled' size='sm' rounded={false} block={false} iconOnly={false} ripple='dark' onClick={increaseQty} disabled={item.stock == 0}>\n            +\n          </Button>\n        </div>\n      </CardStatusFooter>\n\n      <span className='text-sm text-gray-500'>Sub Total: {toCurrency(item.price * qty)}</span>\n    </Card>\n  )\n}\n\nexport default CartItem\n","import CartItem from '../components/CartItem'\nimport Header from '../components/Header'\nimport { Link } from 'react-router-dom'\nimport { Button } from '@material-tailwind/react'\nimport { useEffect, useState } from 'react'\nimport { addToOrders } from '../firebase'\nimport { setAlert, setGlobalState, useGlobalState } from '../store'\n\nconst Cart = () => {\n  const [cart] = useGlobalState('cart')\n  const [isLoggedIn] = useGlobalState('isLoggedIn')\n  const [total, setTotal] = useState(0)\n\n  const getTotal = () => {\n    let total = 0\n    cart.forEach((item) => (total += item.qty * item.price))\n    setTotal(total)\n  }\n\n  const placeOrder = () => {\n    if (!isLoggedIn) return\n\n    addToOrders(cart).then((data) => {\n      setGlobalState('cart', [])\n      setAlert(`Order Placed with Id: ${data.order}`)\n    })\n  }\n\n  const clearCart = () => {\n    setGlobalState('cart', [])\n  }\n\n  const toCurrency = (num) =>\n    num.toLocaleString('en-US', {\n      style: 'currency',\n      currency: 'USD',\n    })\n\n  useEffect(() => getTotal(), [cart])\n\n  return (\n    <div className='addProduct'>\n      <Header />\n      <div className='relative flex flex-col justify-center items-center'>\n        {cart.length > 0 ? (\n          <div className='mt-10 '>\n            <div className='relative flex w-full flex-wrap items-stretch px-8'>\n              <div className='flex flex-wrap justify-center items-center h-64 overflow-y-scroll'>\n                {cart.map((item, i) => (\n                  <CartItem key={i} item={item} />\n                ))}\n              </div>\n            </div>\n            <div className='flex flex-row justify-between items-center my-4 px-8'>\n              <h4>Grand Total:</h4>\n              <span className='text-sm text-green-500'>{toCurrency(total)}</span>\n            </div>\n            <div className='flex flex-row justify-between items-center my-4 px-8'>\n              <Button onClick={clearCart} color='red' ripple='light' type='submit'>\n                Clear Cart\n              </Button>\n              {isLoggedIn ? (\n                <Button onClick={placeOrder} color='green' ripple='light' type='submit'>\n                  Place Order\n                </Button>\n              ) : null}\n            </div>\n          </div>\n        ) : (\n          <div className='mt-10 text-center'>\n            <h4 className='mb-4'>Cart empty, add some items to your cart</h4>\n            <Link to='/' className='text-green-500'>\n              Choose Product\n            </Link>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default Cart\n","import { CometChat } from '@cometchat-pro/chat'\nimport { sendMessage, getMessages } from '../cometChat'\nimport { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport Header from '../components/Header'\n\nconst Chat = () => {\n  const { receiverID } = useParams()\n  const [message, setMessage] = useState('')\n  const [messages, setMessages] = useState([])\n\n  const handleSendMsg = (e) => {\n    e.preventDefault()\n    sendMessage(receiverID, message).then((msg) => {\n      setMessages((prevState) => [...prevState, msg])\n      setMessage('')\n      scrollToEnd()\n    })\n  }\n\n  const handleGetMessages = () => {\n    getMessages(receiverID).then((msgs) => {\n      setMessages(msgs)\n      scrollToEnd()\n    })\n  }\n\n  const listenForMessage = (listenerID) => {\n    CometChat.addMessageListener(\n      listenerID,\n      new CometChat.MessageListener({\n        onTextMessageReceived: (message) => {\n          setMessages((prevState) => [...prevState, message])\n          scrollToEnd()\n        },\n      })\n    )\n  }\n\n  const scrollToEnd = () => {\n    const elmnt = document.getElementById('messages-container')\n    elmnt.scrollTop = elmnt.scrollHeight\n  }\n\n  useEffect(() => {\n    handleGetMessages()\n    listenForMessage(receiverID)\n  }, [receiverID])\n\n  return (\n    <div className='chat'>\n      <Header />\n      <div className='flex justify-center items-center p-10'>\n        <div className='relative mx-auto w-full'>\n          <div className='border-0 rounded-lg relative flex flex-col w-full'>\n            <div className='flex items-start justify-between p-5'>\n              <h3 className='text-md font-semibold'>Chat</h3>\n            </div>\n\n            <div id='messages-container' className='relative p-6 flex-auto h-64 overflow-y-scroll' style={{ height: '20rem' }}>\n              <div className='flex flex-col justify-center items-center'>\n                {messages.map((msg, i) =>\n                  msg?.receiverId?.toLowerCase() != receiverID.toLowerCase() ? (\n                    <div key={i} className='flex flex-col justify-center items-start w-full mb-4'>\n                      <div className='rounded-lg p-2 bg-green-100'>\n                        <p>{msg.text}</p>\n                      </div>\n                    </div>\n                  ) : (\n                    <div key={i} className='flex flex-col justify-center items-end w-full mb-4'>\n                      <div className='rounded-lg p-2 bg-gray-100'>\n                        <p>{msg.text}</p>\n                      </div>\n                    </div>\n                  )\n                )}\n              </div>\n            </div>\n\n            <form onSubmit={handleSendMsg} className='flex flex-row justify-center items-center mt-4 py-4'>\n              <input\n                type='text'\n                placeholder='Type Message...'\n                className='px-3 py-8 placeholder-blueGray-300 text-blueGray-600 relative \n                            bg-green-100 rounded text-sm border border-blueGray-300 \n                            outline-none focus:outline-none focus:ring w-full flex-1 border-0'\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n              />\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Chat\n","import Header from '../components/Header'\nimport { getConversations } from '../cometChat'\nimport { useEffect, useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { auth } from '../firebase'\n\nconst ChatList = () => {\n  const [customers, setCustomers] = useState([])\n  const [loaded, setLoaded] = useState(false)\n\n  useEffect(() => {\n    getConversations().then((conversation) => {\n      console.log(conversation)\n      setCustomers(conversation)\n      setLoaded(true)\n    })\n  }, [])\n\n  return (\n    <div className='chatList'>\n      <Header />\n      <div className='flex justify-center items-center p-10'>\n        <div className='relative mx-auto w-full'>\n          <div className='border-0 rounded-lg relative flex flex-col w-full'>\n            <div className='flex items-start justify-between my-4'>\n              <h3 className='text-md font-semibold'>Recent Chats</h3>\n            </div>\n            {loaded ? customers.map((customer, i) => <Conversation key={i} currentUser={auth.currentUser.uid.toLowerCase()} owner={customer.lastMessage.receiverId.toLowerCase()} conversation={customer.lastMessage} />) : null}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Conversation = ({ conversation, currentUser, owner }) => {\n  const possessor = (key) => {\n    return currentUser == owner ? conversation.sender[key] : conversation.receiver[key]\n  }\n\n  const timeAgo = (date) => {\n    let seconds = Math.floor((new Date() - date) / 1000)\n    let interval = seconds / 31536000\n\n    if (interval > 1) {\n      return Math.floor(interval) + 'yr'\n    }\n    interval = seconds / 2592000\n    if (interval > 1) {\n      return Math.floor(interval) + 'mo'\n    }\n    interval = seconds / 86400\n    if (interval > 1) {\n      return Math.floor(interval) + 'd'\n    }\n    interval = seconds / 3600\n    if (interval > 1) {\n      return Math.floor(interval) + 'h'\n    }\n    interval = seconds / 60\n    if (interval > 1) {\n      return Math.floor(interval) + 'm'\n    }\n    return Math.floor(seconds) + 's'\n  }\n\n  return (\n    <Link\n      to={'/chat/' + possessor('uid')}\n      className='flex flex-row justify-between items-center \n            mb-2 py-2 px-4 bg-gray-100 rounded-lg cursor-pointer'\n    >\n      <div className=''>\n        <h4 className='text-sm font-semibold'>{possessor('name')}</h4>\n        <p className='text-sm text-gray-500'>{conversation.text}</p>\n      </div>\n      <span className='text-sm'>{timeAgo(new Date(Number(conversation.sentAt) * 1000).getTime())}</span>\n    </Link>\n  )\n}\n\nexport default ChatList\n","import { useEffect, useState } from 'react'\nimport { Routes, Route } from 'react-router-dom'\nimport { useGlobalState, setGlobalState, latestPrice } from './store'\nimport { auth, onAuthStateChanged } from './firebase'\nimport Product from './views/Product'\nimport Home from './views/Home'\nimport SignUp from './views/SignUp'\nimport SignIn from './views/SignIn'\nimport AuthGuard from './AuthGuard'\nimport EditProduct from './views/EditProduct'\nimport AddProduct from './views/AddProduct'\nimport Cart from './views/Cart'\nimport Chat from './views/Chat'\nimport ChatList from './views/ChatList'\nimport { loadWeb3 } from './shared/Freshers'\n\nfunction App() {\n  const [user, setUser] = useState(null)\n  const [isLoaded, setIsLoaded] = useState(false)\n  const [alert] = useGlobalState('alert')\n\n  useEffect(() => {\n    loadWeb3()\n    onAuthStateChanged(auth, (user) => {\n      if (user) {\n        setUser(user)\n        setGlobalState('isLoggedIn', true)\n      } else {\n        setUser(null)\n        setGlobalState('isLoggedIn', false)\n      }\n      setIsLoaded(true)\n    })\n    latestPrice()\n  }, [])\n\n  return (\n    <div className='App'>\n      {isLoaded ? (\n        <>\n          {alert.show ? (\n            <div className={`text-white px-6 py-2 border-0 rounded relative bg-${alert.color}-500`}>\n              <span className='text-xl inline-block mr-5 align-middle'>\n                <i className='fas fa-bell' />\n              </span>\n              <span className='inline-block align-middle mx-4'>\n                <b className='capitalize'>Alert!</b> {alert.msg}!\n              </span>\n              <button onClick={() => setGlobalState('alert', { show: false, msg: '' })} className='absolute bg-transparent text-2xl font-semibold leading-none right-0 top-0 mt-2 mr-6 outline-none focus:outline-none'>\n                <span></span>\n              </button>\n            </div>\n          ) : null}\n          <Routes>\n            <Route path='/' element={<Home />} />\n            <Route path='product/:id' element={<Product />} />\n            <Route\n              path='product/edit/:id'\n              element={\n                <AuthGuard user={user}>\n                  <EditProduct />\n                </AuthGuard>\n              }\n            />\n            <Route\n              path='product/add'\n              element={\n                <AuthGuard user={user}>\n                  <AddProduct />\n                </AuthGuard>\n              }\n            />\n            <Route\n              path='chat/:receiverID'\n              element={\n                <AuthGuard user={user}>\n                  <Chat />\n                </AuthGuard>\n              }\n            />\n            <Route\n              path='customers'\n              element={\n                <AuthGuard user={user}>\n                  <ChatList />\n                </AuthGuard>\n              }\n            />\n            <Route path='cart' element={<Cart />} />\n            <Route path='signin' element={<SignIn />} />\n            <Route path='signup' element={<SignUp />} />\n          </Routes>\n        </>\n      ) : null}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App'\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n)"],"sourceRoot":""}